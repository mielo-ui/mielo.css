@use "sass:meta";
@use "sass:map";

@use "../../utils" as *;

$mie-progress-default-colors: (
  "dark": (
    "bg": #282828,
  ),
  "light": (
    "bg": #ebe8e6,
  ),
);

$mie-progress-bar-default-colors: (
  "dark": (
    "indeterminate-bg": #{rgb(#000, 0.3)},
    "bg": #15539e,
    "fg": #fff,
  ),
  "light": (
    "indeterminate-bg": #{rgb(#000, 0.3)},
    "bg": #3584e4,
    "fg": #fff,
  ),
);

@function map-accents-to-progress($theme, $accent, $colors) {
  $bg: map.get($colors, "bg");

  @return ("bg": rgba($bg, 0.2));
}

@function map-accents-to-progress-bar($theme, $accent, $colors) {
  $bg: map.get($colors, "bg");

  @return ("indeterminate-bg": #{lighten($bg, 20%)}, "bg": $bg);
}

@include accents-map-to-component(
  "progress",
  $mie-progress-default-colors,
  meta.get-function("map-accents-to-progress"),
  $mie-accents-by-theme
);

@include accents-map-to-component(
  "progress-bar",
  $mie-progress-bar-default-colors,
  meta.get-function("map-accents-to-progress-bar"),
  $mie-accents-by-theme
);
